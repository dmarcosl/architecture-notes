<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="robots" content="noindex"><meta name="built-on" content="2024-10-12T22:57:21.369135"><title>Design Patterns | Software Architect</title><script type="application/json" id="virtual-toc-data">[{"id":"factory-pattern","level":0,"title":"Factory Pattern","anchor":"#factory-pattern"},{"id":"repository-pattern","level":0,"title":"Repository Pattern","anchor":"#repository-pattern"},{"id":"facade-pattern","level":0,"title":"Facade Pattern","anchor":"#facade-pattern"},{"id":"command-pattern","level":0,"title":"Command Pattern","anchor":"#command-pattern"}]</script><script type="application/json" id="topic-shortcuts"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.10.0-b419/app.css" rel="stylesheet"><meta name="msapplication-TileColor" content="#000000"><link rel="apple-touch-icon" sizes="180x180" href="https://jetbrains.com/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://jetbrains.com/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://jetbrains.com/favicon-16x16.png"><meta name="msapplication-TileImage" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-144x144.png"><meta name="msapplication-square70x70logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-70x70.png"><meta name="msapplication-square150x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-150x150.png"><meta name="msapplication-wide310x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x150.png"><meta name="msapplication-square310x310logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x310.png"><meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="Design Patterns | Software Architect"><meta property="og:description" content=""><meta property="og:image" content=""><meta property="og:site_name" content="Software Architect Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="writerside-documentation/design-patterns.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="Design Patterns | Software Architect"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "writerside-documentation/design-patterns.html#webpage",
    "url": "writerside-documentation/design-patterns.html",
    "name": "Design Patterns | Software Architect",
    "description": "",
    "image": "",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "writerside-documentation/#website",
    "url": "writerside-documentation/",
    "name": "Software Architect Help"
}</script><!-- End Schema.org --></head><body data-id="Design-Patterns" data-main-title="Design Patterns" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs="Basic-Knowledge.md|Basic Knowledge"><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>Software Architect  Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="Design-Patterns" id="Design-Patterns.md">Design Patterns</h1><p id="-qkf2kg_3">Design patterns are a <span class="control" id="-qkf2kg_13">collection of general reusable solutions to common problems</span> in software design</p><p id="-qkf2kg_4">They <span class="control" id="-qkf2kg_14">are templates</span> that can be applied to solve a problem in a specific context</p><p id="-qkf2kg_5">They <span class="control" id="-qkf2kg_15">are not finished designs</span> that can be transformed directly into code</p><p id="-qkf2kg_6">Using design patterns have these advantages:</p><ul class="list _bullet" id="-qkf2kg_7"><li class="list__item" id="-qkf2kg_16"><p><span class="control" id="-qkf2kg_18">Are already tested</span> by other developers, do not reinvent the wheel</p></li><li class="list__item" id="-qkf2kg_17"><p><span class="control" id="-qkf2kg_19">Make your code more readable and easy to modify</span>, making the system more flexible</p></li></ul><p id="-qkf2kg_8"><span class="control" id="-qkf2kg_20">Patterns have architectural aspects</span>, <span class="control" id="-qkf2kg_21">each one</span> discusses a proposed architecture that <span class="control" id="-qkf2kg_22">solves a given problem</span> (micro-architecture)</p><section class="chapter"><h2 id="factory-pattern" data-toc="factory-pattern">Factory Pattern</h2><p id="-qkf2kg_23">It <span class="control" id="-qkf2kg_31">allows creating objects without specifying the exact class</span> of the object</p><p id="-qkf2kg_24"><span class="control" id="-qkf2kg_32">Specifying the class</span> in the creation code <span class="control" id="-qkf2kg_33">will tie the code to the class</span></p><p id="-qkf2kg_25">If later we need to use another class for implementing the same logic, we will have to modify all the code that creates the class, which can be scattered all across the application</p><p id="-qkf2kg_26">In this example we specify the class in the creation code</p><div class="code-block" data-lang="java">
class EuropeWeather {
    public int getWeather(String city, String date) {
        ...
    }
}

class Main {
    public static void main(String[] args) {
        EuropeWeather weather = new EuropeWeather();
        int weather = weather.getWeather(&quot;London&quot;, &quot;2021-09-01&quot;);
    }
}
</div><p id="-qkf2kg_28">If we need to change the class, we will have to modify all the code that creates the class</p><p id="-qkf2kg_29">The factory pattern allows us to create objects without specifying the exact class of object that will be created</p><div class="code-block" data-lang="java">
pubic interface WeatherProvider {
    int getWeather(String city, String date);
}

public class EuropeWeather implements WeatherProvider {
    public int getWeather(String city, String date) {
        ...
    }
}

public class AsiaWeather implements WeatherProvider {
    public int getWeather(String city, String date) {
        ...
    }
}

public class Main {
    public static void main(String[] args) {
        WeatherProvider weatherProvider = getWeatherProvider(&quot;Europe&quot;);
        int weather = weatherProvider.getWeather(&quot;London&quot;, &quot;2021-09-01&quot;);
    }
    
    private static WeatherProvider getWeatherProvider(String continent) {
        if (provider.equals(&quot;Europe&quot;)) {
            return new EuropeWeather();
        } else if (provider.equals(&quot;Asia&quot;)) {
            return new AsiaWeather();
        }
        return null;
    }
}
</div></section><section class="chapter"><h2 id="repository-pattern" data-toc="repository-pattern">Repository Pattern</h2><p id="-qkf2kg_34">The repository pattern is a <span class="control" id="-qkf2kg_38">data access pattern</span> that provides a <span class="control" id="-qkf2kg_39">separation between the domain model and the data access code</span></p><p id="-qkf2kg_35">It describes a <span class="control" id="-qkf2kg_40">data obstruction</span> technique that should be used to <span class="control" id="-qkf2kg_41">hide</span> the complexities of the <span class="control" id="-qkf2kg_42">data access code</span></p><p id="-qkf2kg_36">For example, a bad practice would be to scatter the sql queries all across the application, making it difficult to maintain and modify, with the repository pattern we can centralize all the data access code in one place</p><p id="-qkf2kg_37">The change from a database to another without this pattern would require to rewrite the whole application, while with this pattern we only need to modify the repository classes</p></section><section class="chapter"><h2 id="facade-pattern" data-toc="facade-pattern">Facade Pattern</h2><p id="-qkf2kg_43">The facade pattern is a <span class="control" id="-qkf2kg_46">structural design pattern</span> that provides a <span class="control" id="-qkf2kg_47">simplified interface</span> to a complex system</p><p id="-qkf2kg_44">Instead of put the whole code in a single class, we can create a facade class that will call the other classes</p><div class="code-block" data-lang="java">
// not facade
public void transferMoney(String accountA, String accountB, int amount) {
    if (accountRepository.getAccount(accountA) == null) {
        log.info(&quot;Account &quot; + accountA + &quot; does not exist&quot;);
        throw new Exception(&quot;Invalid operation&quot;);
    }
    if (accountRepository.getAccount(accountB) == null) {
        log.info(&quot;Account &quot; + accountB + &quot; does not exist&quot;);
        throw new Exception(&quot;Invalid operation&quot;);
    }
    if (balanceRepository.getAccountBalance(accountA) &lt; amount) {
        log.info(&quot;Account &quot; + accountA + &quot; does not have enough money&quot;);
        throw new Exception(&quot;Invalid operation&quot;);
    }
    
    balanceRepository.withdrawMoney(accountA, amount);
    log.info(&quot;Money withdrawn from account &quot; + accountA);
    balanceRepository.depositMoney(accountB, amount);
    log.info(&quot;Money deposited to account &quot; + accountB);
}

// facade
public void transferMoney(String accountA, String accountB, int amount) {
    if (!accountExists(accountA) ||
        !accountExists(accountB) !!
        !hasEnoughMoney(accountA, amount)) {
        throw new Exception(&quot;Invalid operation&quot;);
    }
    
    withdrawMoney(accountA, amount);
    depositMoney(accountB, amount);
}
</div></section><section class="chapter"><h2 id="command-pattern" data-toc="command-pattern">Command Pattern</h2><p id="-qkf2kg_48">The command patterns is a <span class="control" id="-qkf2kg_51">behavioral design pattern</span> that says that <span class="control" id="-qkf2kg_52">all the information of an action should be encapsulated within an object</span>, and <span class="control" id="-qkf2kg_53">this object will have a method that will execute the action</span></p><p id="-qkf2kg_49">The goal is the <span class="control" id="-qkf2kg_54">complete separation</span> between the invocation of the <span class="control" id="-qkf2kg_55">command</span> and its actual <span class="control" id="-qkf2kg_56">function</span></p><div class="code-block" data-lang="java">
public class Light {
    public void turnOn() {
        ...
    }
    
    public void turnOff() {
        ...
    }
}

// not command
public class Main {
    public static void main(String[] args) {
        Light light = new Light();
        light.turnOn();
        light.turnOff();
    }
}

// command
public interface Command {
    void execute();
}

public class TurnOnLightCommand implements Command {
    private Light light;
    
    public TurnOnLightCommand(Light light) {
        this.light = light;
    }
    
    public void execute() {
        light.turnOn();
    }
}

public class TurnOffLightCommand implements Command {
    private Light light;
    
    public TurnOffLightCommand(Light light) {
        this.light = light;
    }
    
    public void execute() {
        light.turnOff();
    }
}

public class Main {
    private Light light;
    private TurnOnLightCommand turnOnLightCommand;
    
    public static void main(String[] args) {
        setup();
        turnOnLightCommand.execute();
        turnOffLightCommand.execute();
    }
    
    private void setup() {
        light = new Light();
        turnOnLightCommand = new TurnOnLightCommand(light);
        turnOffLightCommand = new TurnOffLightCommand(light);
    }
}
</div></section><div class="last-modified">Last modified: 12 October 2024</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="component-s-architecture.html" class="navigation-links__prev">Component's Architecture</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="https://resources.jetbrains.com/writerside/apidoc/6.10.0-b419/app.js"></script></body></html>