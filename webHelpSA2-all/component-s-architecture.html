<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="robots" content="noindex"><meta name="built-on" content="2024-10-21T15:32:24.926844"><title>Component's Architecture | Software Architect</title><script type="application/json" id="virtual-toc-data">[{"id":"layers","level":0,"title":"Layers","anchor":"#layers"},{"id":"interfaces","level":0,"title":"Interfaces","anchor":"#interfaces"},{"id":"dependency-injection-di","level":0,"title":"Dependency Injection (DI)","anchor":"#dependency-injection-di"},{"id":"solid","level":0,"title":"SOLID","anchor":"#solid"},{"id":"naming-conventions","level":0,"title":"Naming Conventions","anchor":"#naming-conventions"},{"id":"exceptions-handling","level":0,"title":"Exceptions Handling","anchor":"#exceptions-handling"},{"id":"logging","level":0,"title":"Logging","anchor":"#logging"}]</script><script type="application/json" id="topic-shortcuts"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.10.0-b419/app.css" rel="stylesheet"><meta name="msapplication-TileColor" content="#000000"><link rel="apple-touch-icon" sizes="180x180" href="https://jetbrains.com/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://jetbrains.com/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://jetbrains.com/favicon-16x16.png"><meta name="msapplication-TileImage" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-144x144.png"><meta name="msapplication-square70x70logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-70x70.png"><meta name="msapplication-square150x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-150x150.png"><meta name="msapplication-wide310x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x150.png"><meta name="msapplication-square310x310logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x310.png"><meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="Component's Architecture | Software Architect"><meta property="og:description" content=""><meta property="og:image" content=""><meta property="og:site_name" content="Software Architect Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="writerside-documentation/component-s-architecture.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="Component's Architecture | Software Architect"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "writerside-documentation/component-s-architecture.html#webpage",
    "url": "writerside-documentation/component-s-architecture.html",
    "name": "Component's Architecture | Software Architect",
    "description": "",
    "image": "",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "writerside-documentation/#website",
    "url": "writerside-documentation/",
    "name": "Software Architect Help"
}</script><!-- End Schema.org --></head><body data-id="Component-s-Architecture" data-main-title="Component's Architecture" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs="Basic-Knowledge.md|Basic Knowledge"><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>Software Architect  Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="Component-s-Architecture" id="Component-s-Architecture.md">Component's Architecture</h1><p id="-2v06xi_3"><span class="control" id="-2v06xi_14">Software components</span> are the services, <span class="control" id="-2v06xi_15">pieces of code that runs in a single process</span></p><p id="-2v06xi_4"><span class="control" id="-2v06xi_16">Modern systems are</span> usually <span class="control" id="-2v06xi_17">distributed</span> (like microservices), meaning they are <span class="control" id="-2v06xi_18">composed of independent software components</span> deployed on separate processes, and often on separate containers or servers, that <span class="control" id="-2v06xi_19">communicate between them using</span> some kind of <span class="control" id="-2v06xi_20">protocol</span></p><p id="-2v06xi_5">When talking about <span class="control" id="-2v06xi_21">Software Architecture</span>, we are talking about <span class="control" id="-2v06xi_22">two levels of architecture</span>:</p><ul class="list _bullet" id="-2v06xi_6"><li class="list__item" id="-2v06xi_23"><p><span class="control" id="-2v06xi_25">Component's Architecture</span>, the architecture of <span class="control" id="-2v06xi_26">individual components</span>, the <span class="control" id="-2v06xi_27">interaction between them</span>, and how to <span class="control" id="-2v06xi_28">make it fast and easy to maintain</span></p></li><li class="list__item" id="-2v06xi_24"><p><span class="control" id="-2v06xi_29">System's Architecture</span>, deals with the <span class="control" id="-2v06xi_30">bigger picture</span>, making sure the <span class="control" id="-2v06xi_31">system</span> is <span class="control" id="-2v06xi_32">scalable, reliable, fast and easy to maintain</span></p></li></ul><section class="chapter"><h2 id="layers" data-toc="layers">Layers</h2><p id="-2v06xi_33">The <span class="control" id="-2v06xi_43">layers in a software component</span> represent <span class="control" id="-2v06xi_44">horizontal functionality</span></p><p id="-2v06xi_34">Software components usually perform <span class="control" id="-2v06xi_45">three basic actions</span>:</p><ul class="list _bullet" id="-2v06xi_35"><li class="list__item" id="-2v06xi_46"><p><span class="control" id="-2v06xi_49">Expose</span> the software <span class="control" id="-2v06xi_50">functionality</span> through an interface or an API</p></li><li class="list__item" id="-2v06xi_47"><p><span class="control" id="-2v06xi_51">Execute logic</span> on the data received</p></li><li class="list__item" id="-2v06xi_48"><p>Save / retrieve data to the <span class="control" id="-2v06xi_52">data store</span></p></li></ul><p id="-2v06xi_36"><span class="control" id="-2v06xi_53">Each action</span> is usually implemented in a <span class="control" id="-2v06xi_54">separate layer</span></p><ul class="list _bullet" id="-2v06xi_37"><li class="list__item" id="-2v06xi_55"><p><span class="control" id="-2v06xi_58">User Interface</span> or <span class="control" id="-2v06xi_59">Service Interface</span> layer (UI / SI) </p><ul class="list _bullet" id="-2v06xi_60"><li class="list__item" id="-2v06xi_61"><p>Expose API</p></li><li class="list__item" id="-2v06xi_62"><p>Auth</p></li><li class="list__item" id="-2v06xi_63"><p>Mapping request to objects</p></li></ul></li><li class="list__item" id="-2v06xi_56"><p><span class="control" id="-2v06xi_64">Business Logic</span> layer (BL) </p><ul class="list _bullet" id="-2v06xi_65"><li class="list__item" id="-2v06xi_66"><p>Validation</p></li><li class="list__item" id="-2v06xi_67"><p>Enrichment</p></li><li class="list__item" id="-2v06xi_68"><p>Computation</p></li></ul></li><li class="list__item" id="-2v06xi_57"><p><span class="control" id="-2v06xi_69">Data Access layer</span> (DAL) </p><ul class="list _bullet" id="-2v06xi_70"><li class="list__item" id="-2v06xi_71"><p>Connection</p></li><li class="list__item" id="-2v06xi_72"><p>Querying</p></li><li class="list__item" id="-2v06xi_73"><p>Transaction</p></li></ul></li></ul><p id="-2v06xi_38">Why separate the code in different layers?</p><ul class="list _bullet" id="-2v06xi_39"><li class="list__item" id="-2v06xi_74"><p>It forces you to write <span class="control" id="-2v06xi_76">code</span> that is <span class="control" id="-2v06xi_77">well-formed and focused</span>, it is a <span class="control" id="-2v06xi_78">bad idea to write a method to performs multiple tasks</span></p></li><li class="list__item" id="-2v06xi_75"><p><span class="control" id="-2v06xi_79">Layers are modular</span>, making easy to substitute them, for example to <span class="control" id="-2v06xi_80">change the database only have to change the DAL</span></p></li></ul><section class="chapter"><h3 id="code-flow" data-toc="code-flow">Code Flow</h3><p id="-2v06xi_81"><span class="control" id="-2v06xi_83">A layer can only call a layer that is directly benefit in the code</span>, and <span class="control" id="-2v06xi_84">a layer can never call another layer above it</span></p><ul class="list _bullet" id="-2v06xi_82"><li class="list__item" id="-2v06xi_85"><p>A UI layer can call the BL layer, but not the DAL layer</p></li><li class="list__item" id="-2v06xi_86"><p>The DAL layer cannot call the BL or UI layers</p></li></ul></section><section class="chapter"><h3 id="loose-coupling" data-toc="loose-coupling">Loose Coupling</h3><p id="-2v06xi_87">We need the <span class="control" id="-2v06xi_89">layers</span> to <span class="control" id="-2v06xi_90">communicate with each other</span> in a way that we will have the <span class="control" id="-2v06xi_91">minimum impact when there is a change</span></p><p id="-2v06xi_88">The <span class="control" id="-2v06xi_92">loose coupling</span> is achieved by <span class="control" id="-2v06xi_93">using interfaces</span> to communicate between layers, so to <span class="control" id="-2v06xi_94">change the implementation of a layer</span>, we only have to <span class="control" id="-2v06xi_95">change the implementation of the interface</span></p></section><section class="chapter"><h3 id="exceptions-handling-between-layers" data-toc="exceptions-handling-between-layers">Exceptions Handling between Layers</h3><p id="-2v06xi_96">The exception handling concept states that <span class="control" id="-2v06xi_98">each layer should hide its inner exceptions</span> and <span class="control" id="-2v06xi_99">return a generic exception</span> to the layer above</p><p id="-2v06xi_97">For example, <span class="control" id="-2v06xi_100">if there is an exception in the DAL layer</span>, <span class="control" id="-2v06xi_101">instead of returning a specific</span> <code class="code" id="-2v06xi_102">MySQLException</code> to the BL layer, <span class="control" id="-2v06xi_103">it should analyze</span> the exception, <span class="control" id="-2v06xi_104">log</span> it, and <span class="control" id="-2v06xi_105">return a generic</span> <code class="code" id="-2v06xi_106">DataAccessException</code></p></section></section><section class="chapter"><h2 id="interfaces" data-toc="interfaces">Interfaces</h2><p id="-2v06xi_107"><span class="control" id="-2v06xi_113">Interfaces are common concepts</span> in <span class="control" id="-2v06xi_114">Java or C#</span> programming languages, but in other languages are other similar concepts like <span class="control" id="-2v06xi_115">abstract classes in Python</span></p><p id="-2v06xi_108">Interfaces are the <span class="control" id="-2v06xi_116">contracts</span> that <span class="control" id="-2v06xi_117">define the methods</span> that a <span class="control" id="-2v06xi_118">class must implement</span></p><div class="code-block" data-lang="csharp">
interface Calculator
{
    dou Add(int a, int b);
    int Subtract(int a, int b);
}
</div><div class="code-block" data-lang="csharp">
class MyCalculator : Calculator
{
    public dou Add(int a, int b)
    {
        return a + b;
    }

    public int Subtract(int a, int b)
    {
        return a - b;
    }
}
</div><p id="-2v06xi_111">Using interfaces <span class="control" id="-2v06xi_119">allows us</span> to make our <span class="control" id="-2v06xi_120">code loosely coupled</span>, and to <span class="control" id="-2v06xi_121">change the implementation of a class without changing the code</span> that uses it, only the <span class="control" id="-2v06xi_122">dependency injection</span></p><p id="-2v06xi_112"><span class="control" id="-2v06xi_123">Without</span> using <span class="control" id="-2v06xi_124">interfaces</span>, we would have to <span class="control" id="-2v06xi_125">change the code that uses the class</span></p></section><section class="chapter"><h2 id="dependency-injection-di" data-toc="dependency-injection-di">Dependency Injection (DI)</h2><p id="-2v06xi_126">Dependency Injection is a <span class="control" id="-2v06xi_131">design pattern</span> that <span class="control" id="-2v06xi_132">allows us to inject the dependencies of a class</span> from the outside, it <span class="control" id="-2v06xi_133">complements the use of interfaces</span></p><p id="-2v06xi_127">Without DI, the class would have to <span class="control" id="-2v06xi_134">create the dependencies</span> inside the class, making it <span class="control" id="-2v06xi_135">hard to test</span> and <span class="control" id="-2v06xi_136">hard to change the implementation</span></p><div class="code-block" data-lang="java">
public static void main(String[] args) {
    MyCalculator calculator = new MyCalculator();
    calculator.add(1, 2);
    calculator.subtract(2, 1);
}
</div><p id="-2v06xi_129">With DI, we can <span class="control" id="-2v06xi_137">inject the dependencies</span> from the outside, making the class <span class="control" id="-2v06xi_138">easier to test and to change</span> the implementation</p><div class="code-block" data-lang="java">
@AutoWired
@Qualifier(&quot;myCalculator&quot;)
Calculator calculator1;

@AutoWired
@Qualifier(&quot;myAnotherCalculator&quot;)
Calculator calculator2;

public static void main(String[] args) {
    calculator1.add(1, 2);
    calculator2.subtract(2, 1);
}
</div></section><section class="chapter"><h2 id="solid" data-toc="solid">SOLID</h2><section class="chapter"><h3 id="single-responsibility-principle-srp" data-toc="single-responsibility-principle-srp">Single Responsibility Principle (SRP)</h3><p id="-2v06xi_144">Each class, module or method should have a <span class="control" id="-2v06xi_147">single</span> well-defined <span class="control" id="-2v06xi_148">responsibility</span>, <span class="control" id="-2v06xi_149">fully encapsulated</span> by the class, module or method</p><p id="-2v06xi_145">For example, a method that reads a file should not also parse the file, it should only read the file</p><div class="code-block" data-lang="java">
public class FileReader {
    public OutputStream read(String path) {
        // read the file
    }
    
    public String parse(OutputStream stream) {
        // parse the content
    }
}
</div></section><section class="chapter"><h3 id="open-closed-principle-ocp" data-toc="open-closed-principle-ocp">Open/Closed Principle (OCP)</h3><p id="-2v06xi_150">A software component should be <span class="control" id="-2v06xi_153">open for extension</span>, but <span class="control" id="-2v06xi_154">closed for modification</span>, to make the code as flexible as possible and enable us to make changes quickly without modifying the existing code</p><p id="-2v06xi_151">For example, if we have a class that performs a calculation, we should be able to extend the class to add new calculations, but we should not be able to modify the original class to add new calculations</p><div class="code-block" data-lang="java">
public class Calculator {
    public double add(int a, int b) {
        return a + b;
    }
}

public class AdvancedCalculator extends Calculator {
    public double subtract(int a, int b) {
        return a - b;
    }
}
</div></section><section class="chapter"><h3 id="liskov-substitution-principle-lsp" data-toc="liskov-substitution-principle-lsp">Liskov Substitution Principle (LSP)</h3><p id="-2v06xi_155">If a class is a subclass of another class, it should be able to <span class="control" id="-2v06xi_158">substitute</span> the first class with the second <span class="control" id="-2v06xi_159">without changing the behavior</span> of the program</p><p id="-2v06xi_156">For example, if we have a class that write logs to a file, we should be able to substitute the class with another class that writes logs to a database without changing the behavior of the program</p><div class="code-block" data-lang="java">
var logger = new FileLogger();
logger.log(message);

var logger = new DatabaseLogger();
logger.log(message);
</div></section><section class="chapter"><h3 id="interface-segregation-principle-isp" data-toc="interface-segregation-principle-isp">Interface Segregation Principle (ISP)</h3><p id="-2v06xi_160"><span class="control" id="-2v06xi_165">Many client-specific interfaces are better than one general-purpose interface</span></p><p id="-2v06xi_161">A class should not be forced to implement an interface that it does not use, and it should not depend on methods that it does not use</p><p id="-2v06xi_162">Instead of bloating a single interface with many methods, we should create multiple interfaces with fewer methods</p><div class="code-block" data-lang="java">
public interface DataUtil {
    String readData();
    void writeData(String data);
    String decode(String data);
    String encode(String data);
}
</div><div class="code-block" data-lang="java">
public interface DataHandler {
    String readData();
    void writeData(String data);
}

public interface DataEncoder {
    String decode(String data);
    String encode(String data);
}
</div></section><section class="chapter"><h3 id="dependency-inversion-principle-dip" data-toc="dependency-inversion-principle-dip">Dependency Inversion Principle (DIP)</h3><p id="-2v06xi_166"><span class="control" id="-2v06xi_168">High-level modules</span>, which contain complex business logic, <span class="control" id="-2v06xi_169">should not</span> directly <span class="control" id="-2v06xi_170">depend on low-level modules</span>, such as utility classes or frameworks; instead, <span class="control" id="-2v06xi_171">both should rely on</span> abstract <span class="control" id="-2v06xi_172">interfaces</span> or contracts, <span class="control" id="-2v06xi_173">ensuring flexibility</span> and easier <span class="control" id="-2v06xi_174">maintenance</span> when changes are needed in low-level implementations</p><p id="-2v06xi_167">Same as <span class="control" id="-2v06xi_175">Dependency Injection</span></p></section></section><section class="chapter"><h2 id="naming-conventions" data-toc="naming-conventions">Naming Conventions</h2><p id="-2v06xi_176">Naming conventions are a set of rules that define how to name variables, classes, methods, and other elements of a program</p><p id="-2v06xi_177">They are to make the code more readable and easy to understand, are not enforced by the compiler, but a code without them becomes messy</p><p id="-2v06xi_178">Usually there are two types of rules:</p><ul class="list _bullet" id="-2v06xi_179"><li class="list__item" id="-2v06xi_182"><p><span class="control" id="-2v06xi_184">Structure</span>: casing, underscores, etc</p></li><li class="list__item" id="-2v06xi_183"><p><span class="control" id="-2v06xi_185">Content</span>: what kind of words to use</p></li></ul><section class="chapter"><h3 id="structure" data-toc="structure">Structure</h3><section class="chapter"><h4 id="camel-case" data-toc="camel-case">Camel Case</h4><p id="-2v06xi_190">The first letter of the first word is lowercase</p><p id="-2v06xi_191">There are two types:</p><ul class="list _bullet" id="-2v06xi_192"><li class="list__item" id="-2v06xi_194"><p>Upper Camel Case: <code class="code" id="-2v06xi_196">CamelCase</code>, the first letter of the first word is capitalized</p></li><li class="list__item" id="-2v06xi_195"><p>Lower Camel Case: <code class="code" id="-2v06xi_197">camelCase</code>, the first letter of the first word is not capitalized</p></li></ul><p id="-2v06xi_193">It is popular en Java, C#, JavaScript, Swift, and recommended for class names in Python, Ruby</p></section><section class="chapter"><h4 id="lowercase-separated-by-underscores" data-toc="lowercase-separated-by-underscores">Lowercase separated by underscores</h4><p id="-2v06xi_198">The name contains only lowercase letters and the words are separated by underscores</p><p id="-2v06xi_199"><code class="code" id="-2v06xi_201">lowercase_separated_by_underscores</code></p><p id="-2v06xi_200">Popular in Python and Ruby for variable names</p></section><section class="chapter"><h4 id="uppercase-separated-by-underscores" data-toc="uppercase-separated-by-underscores">Uppercase separated by underscores</h4><p id="-2v06xi_202">The name contains only uppercase letters and the words are separated by underscores</p><p id="-2v06xi_203"><code class="code" id="-2v06xi_205">UPPERCASE_SEPARATED_BY_UNDERSCORES</code></p><p id="-2v06xi_204">Popular in Java, Python and Ruby for constants</p></section><section class="chapter"><h4 id="hungarian-notation" data-toc="hungarian-notation">Hungarian Notation</h4><p id="-2v06xi_206">The name contains a prefix that indicates the type of the variable</p><p id="-2v06xi_207"><code class="code" id="-2v06xi_209">strName</code>, <code class="code" id="-2v06xi_210">intAge</code>, <code class="code" id="-2v06xi_211">boolIsEnabled</code></p><p id="-2v06xi_208">Popular in C, C++, and C#</p></section></section><section class="chapter"><h3 id="content" data-toc="content">Content</h3><ul class="list _bullet" id="-2v06xi_212"><li class="list__item" id="-2v06xi_213"><p>Class Names: Nouns (<code class="code" id="-2v06xi_215">DataRetriever</code>, <code class="code" id="-2v06xi_216">Car</code>, <code class="code" id="-2v06xi_217">Network</code></p></li><li class="list__item" id="-2v06xi_214"><p>Methods Names: Imperative Verb (<code class="code" id="-2v06xi_218">RetrieveData</code>, <code class="code" id="-2v06xi_219">Drive</code>, <code class="code" id="-2v06xi_220">SendPacket</code>)</p></li></ul></section></section><section class="chapter"><h2 id="exceptions-handling" data-toc="exceptions-handling">Exceptions Handling</h2><p id="-2v06xi_221">Exception handling is a <span class="control" id="-2v06xi_223">part of the layer pattern</span>, but there are some good practices to follow</p><ul class="list _bullet" id="-2v06xi_222"><li class="list__item" id="-2v06xi_224"><p><span class="control" id="-2v06xi_227">Only catch exceptions if you have something to do with it</span></p><ul class="list _bullet" id="-2v06xi_228"><li class="list__item" id="-2v06xi_229"><p>Do not catch an exception only to log it, because that can be done with a more general exception to cover multiple ones</p></li></ul></li><li class="list__item" id="-2v06xi_225"><p><span class="control" id="-2v06xi_230">Catch only specific exceptions</span></p><ul class="list _bullet" id="-2v06xi_231"><li class="list__item" id="-2v06xi_232"><p>For example SQLException, along with the generic Exception, to handle the db related in a different way</p></li></ul></li><li class="list__item" id="-2v06xi_226"><p><span class="control" id="-2v06xi_233">Use try-catch on the smallest code fragment possible</span></p><ul class="list _bullet" id="-2v06xi_234"><li class="list__item" id="-2v06xi_235"><p>Do not wrap the entire method in a try-catch block, only the code that can throw an exception</p></li></ul></li></ul></section><section class="chapter"><h2 id="logging" data-toc="logging">Logging</h2><p id="-2v06xi_236">No matter how simple the code is or how urgent is the system, <span class="control" id="-2v06xi_239">logging is a must</span></p><p id="-2v06xi_237">A good system uses logging for <span class="control" id="-2v06xi_240">two purposes</span></p><ul class="list _bullet" id="-2v06xi_238"><li class="list__item" id="-2v06xi_241"><p><span class="control" id="-2v06xi_243">Track errors</span></p><ul class="list _bullet" id="-2v06xi_244"><li class="list__item" id="-2v06xi_245"><p>If there are any exceptions during the execution of the code, the system will write them to the log, complete with full error message, stack trace, inner exceptions, etc.</p></li><li class="list__item" id="-2v06xi_246"><p>This way, when an exception happens, you will have a good starting point to investigate the error</p></li></ul></li><li class="list__item" id="-2v06xi_242"><p><span class="control" id="-2v06xi_247">Gather data</span></p><ul class="list _bullet" id="-2v06xi_248"><li class="list__item" id="-2v06xi_249"><p>The system can write to the log some data that can be useful for debugging, like the parameters of a method, the result of a calculation, etc.</p></li><li class="list__item" id="-2v06xi_250"><p>This way, you can see the data that the system is working with, and you can understand better what is happening</p></li></ul></li></ul></section><div class="last-modified">Last modified: 21 October 2024</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="quality-attributes.html" class="navigation-links__prev">Quality-Attributes</a><a href="design-patterns.html" class="navigation-links__next">Design Patterns</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="https://resources.jetbrains.com/writerside/apidoc/6.10.0-b419/app.js"></script></body></html>